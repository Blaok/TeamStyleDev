function dean_addEvent(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{n.$$guid||(n.$$guid=dean_addEvent.guid++),e.events||(e.events={});var a=e.events[t];a||(a=e.events[t]={},e["on"+t]&&(a[0]=e["on"+t])),a[n.$$guid]=n,e["on"+t]=handleEvent}}function removeEvent(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.events&&e.events[t]&&delete e.events[t][n.$$guid]}function handleEvent(e){var t=!0;e=e||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var n=this.events[e.type];for(var a in n)this.$$handleEvent=n[a],this.$$handleEvent(e)===!1&&(t=!1);return t}function fixEvent(e){return e.preventDefault=fixEvent.preventDefault,e.stopPropagation=fixEvent.stopPropagation,e}function setFilterGrid(e){var t,n,a=grabEBI(e);if(null!=a&&"table"==a.nodeName.toLowerCase()){if(arguments.length>1)for(var i=0;i<arguments.length;i++){var r=typeof arguments[i];switch(r.toLowerCase()){case"number":t=arguments[i];break;case"object":n=arguments[i]}}void 0==t?t=2:t+=2;var s=getCellsNb(e,t);a.tf_ncells=s,void 0==a.tf_ref_row&&(a.tf_ref_row=t),a.tf_Obj=n,hasGrid(e)||AddGrid(e)}}function AddGrid(e){TblId.push(e);var t,n,a,i,r,s,o,d,l,c,u,f,h,p,m,g,_,v,w,b,y,k,D,T=grabEBI(e),M=T.tf_Obj,S=T.tf_ncells;if(n=void 0!=M&&0==M.grid?!1:!0,a=void 0!=M&&1==M.btn?!0:!1,i=void 0!=M&&void 0!=M.btn_text?M.btn_text:"go",r=void 0!=M&&0==M.enter_key?!1:!0,s=void 0!=M&&M.mod_filter_fn?!0:!1,o=void 0!=M&&void 0!=M.display_all_text?M.display_all_text:"",d=void 0!=M&&0==M.on_change?!1:!0,l=void 0!=M&&1==M.rows_counter?!0:!1,c=void 0!=M&&void 0!=M.rows_counter_text?M.rows_counter_text:"Displayed rows: ",u=void 0!=M&&1==M.btn_reset?!0:!1,f=void 0!=M&&void 0!=M.btn_reset_text?M.btn_reset_text:"Reset",h=void 0!=M&&1==M.sort_select?!0:!1,p=void 0!=M&&1==M.paging?!0:!1,m=void 0!=M&&void 0!=M.paging_length?M.paging_length:10,g=void 0!=M&&1==M.loader?!0:!1,_=void 0!=M&&void 0!=M.loader_text?M.loader_text:"Loading...",v=void 0!=M&&1==M.exact_match?!0:!1,w=void 0!=M&&1==M.alternate_rows?!0:!1,b=void 0!=M&&M.col_operation?!0:!1,y=void 0!=M&&M.rows_always_visible?!0:!1,k=void 0!=M&&M.col_width?!0:!1,D=void 0!=M&&M.bind_script?!0:!1,T.tf_fltGrid=n,T.tf_displayBtn=a,T.tf_btnText=i,T.tf_enterKey=r,T.tf_isModfilter_fn=s,T.tf_display_allText=o,T.tf_on_slcChange=d,T.tf_rowsCounter=l,T.tf_rowsCounter_text=c,T.tf_btnReset=u,T.tf_btnReset_text=f,T.tf_sortSlc=h,T.tf_displayPaging=p,T.tf_pagingLength=m,T.tf_displayLoader=g,T.tf_loadText=_,T.tf_exactMatch=v,T.tf_alternateBgs=w,T.tf_startPagingRow=0,s&&(T.tf_modfilter_fn=M.mod_filter_fn),n){var E=T.insertRow(0);E.className="fltrow";for(var C=0;S>C;C++){var x=E.insertCell(C);if(t=C==S-1&&1==a?"flt_s":"flt",void 0==M||void 0==M["col_"+C]||"none"==M["col_"+C]){var Y;Y=void 0==M||void 0==M["col_"+C]?"text":"hidden";var I=createElm("input",["id","flt"+C+"_"+e],["type",Y],["class",t]);I.className=t,x.appendChild(I),r&&(I.onkeypress=DetectKey)}else if("select"==M["col_"+C]){var F=createElm("select",["id","flt"+C+"_"+e],["class",t]);if(F.className=t,x.appendChild(F),PopulateOptions(e,C),p){var N=new Array;N.push(e),N.push(C),N.push(S),N.push(o),N.push(h),N.push(p),SlcArgs.push(N)}r&&(F.onkeypress=DetectKey),d&&(F.onchange=s?M.mod_filter_fn:function(){Filter(e)})}if(C==S-1&&1==a){var O=createElm("input",["id","btn"+C+"_"+e],["type","button"],["value",i],["class","btnflt"]);O.className="btnflt",x.appendChild(O),O.onclick=s?M.mod_filter_fn:function(){Filter(e)}}}}if(l||u||p||g){var L=createElm("div",["id","inf_"+e],["class","inf"]);if(L.className="inf",T.parentNode.insertBefore(L,T),l){var G,A=createElm("div",["id","ldiv_"+e]);l?A.className="ldiv":A.style.display="none",G=p?m:getRowsNb(e);var P=createElm("span",["id","totrows_span_"+e],["class","tot"]);P.className="tot",P.appendChild(createText(G));var B=createText(c);A.appendChild(B),A.appendChild(P),L.appendChild(A)}if(g){var W=createElm("div",["id","load_"+e],["class","loader"]);W.className="loader",W.style.display="none",W.appendChild(createText(_)),L.appendChild(W)}if(p){var j=createElm("div",["id","mdiv_"+e]);p?j.className="mdiv":j.style.display="none",L.appendChild(j);var H=T.tf_ref_row,R=grabTag(T,"tr"),z=R.length,V=Math.ceil((z-H)/m),U=createElm("select",["id","slcPages_"+e]);U.onchange=function(){g&&showLoader(e,""),T.tf_startPagingRow=this.value,GroupByPage(e),g&&showLoader(e,"none")};var $=createElm("span",["id","pgspan_"+e]);grabEBI("mdiv_"+e).appendChild(createText(" Page ")),grabEBI("mdiv_"+e).appendChild(U),grabEBI("mdiv_"+e).appendChild(createText(" of ")),$.appendChild(createText(V+" ")),grabEBI("mdiv_"+e).appendChild($);for(var q=H;z>q;q++)R[q].setAttribute("validRow","true");setPagingInfo(e),g&&showLoader(e,"none")}if(u&&n){var Z=createElm("div",["id","reset_"+e]);u?Z.className="rdiv":Z.style.display="none";var J=createElm("a",["href","javascript:clearFilters('"+e+"');Filter('"+e+"');"]);J.appendChild(createText(f)),Z.appendChild(J),L.appendChild(Z)}}k&&(T.tf_colWidth=M.col_width,setColWidths(e)),w&&!p&&setAlternateRows(e),b&&(T.tf_colOperation=M.col_operation,setColOperation(e)),y&&(T.tf_rowVisibility=M.rows_always_visible,p&&setVisibleRows(e)),D&&(T.tf_bindScript=M.bind_script,void 0!=T.tf_bindScript&&void 0!=T.tf_bindScript.target_fn&&T.tf_bindScript.target_fn.call(null,e))}function PopulateOptions(e,t){var n=grabEBI(e),a=n.tf_ncells,i=n.tf_display_allText,r=n.tf_sortSlc,s=(n.tf_displayPaging,n.tf_ref_row),o=grabTag(n,"tr"),d=new Array,l=0,c=new Option(i,"",!1,!1);grabEBI("flt"+t+"_"+e).options[l]=c;for(var u=s;u<o.length;u++){{var f=getChildElms(o[u]).childNodes,h=f.length;o[u].getAttribute("paging")}if(h==a)for(var p=0;h>p;p++)if(t==p){var m=getCellText(f[p]),g=!1;for(w in d)m==d[w]&&(g=!0);g||d.push(m)}}r&&d.sort();for(y in d){l++;var c=new Option(d[y],d[y],!1,!1);grabEBI("flt"+t+"_"+e).options[l]=c}}function Filter(e){showLoader(e,""),SearchFlt=getFilters(e);var t=grabEBI(e);fprops=void 0!=t.tf_Obj?t.tf_Obj:new Array;for(var n=new Array,a=getCellsNb(e),i=(getRowsNb(e),0),r=t.tf_exactMatch,s=t.tf_displayPaging,o=0;o<SearchFlt.length;o++)n.push(grabEBI(SearchFlt[o]).value.toLowerCase());for(var d=t.tf_ref_row,l=grabTag(t,"tr"),c=d;c<l.length;c++){"none"==l[c].style.display&&(l[c].style.display="");var u=getChildElms(l[c]).childNodes,f=u.length;if(f==a){for(var h=new Array,p=new Array,m=!0,g=0;f>g;g++){var _=getCellText(u[g]).toLowerCase();if(h.push(_),""!=n[g]){var v=parseFloat(_);if(/<=/.test(n[g])&&!isNaN(v))p[g]=v<=parseFloat(n[g].replace(/<=/,""))?!0:!1;else if(/>=/.test(n[g])&&!isNaN(v))p[g]=v>=parseFloat(n[g].replace(/>=/,""))?!0:!1;else if(/</.test(n[g])&&!isNaN(v))p[g]=v<parseFloat(n[g].replace(/</,""))?!0:!1;else if(/>/.test(n[g])&&!isNaN(v))p[g]=v>parseFloat(n[g].replace(/>/,""))?!0:!1;else{var w;w=r||"select"==fprops["col_"+g]?new RegExp("(^)"+regexpEscape(n[g])+"($)","gi"):new RegExp(regexpEscape(n[g]),"gi"),p[g]=w.test(_)}}}for(var b=0;a>b;b++)""==n[b]||p[b]||(m=!1)}m?(l[c].style.display="",s&&l[c].setAttribute("validRow","true")):(l[c].style.display="none",i++,s&&l[c].setAttribute("validRow","false"))}t.tf_nRows=parseInt(getRowsNb(e))-i,s||applyFilterProps(e),s&&(t.tf_startPagingRow=0,setPagingInfo(e))}function setPagingInfo(e){for(var t=grabEBI(e),n=parseInt(t.tf_ref_row),a=t.tf_pagingLength,i=grabTag(t,"tr"),r=grabEBI("mdiv_"+e),s=grabEBI("slcPages_"+e),o=grabEBI("pgspan_"+e),d=0,l=n;l<i.length;l++)"true"==i[l].getAttribute("validRow")&&d++;var c=Math.ceil(d/a);if(o.innerHTML=c,s.innerHTML="",c>0){r.style.visibility="visible";for(var u=0;c>u;u++){var f=new Option(u+1,u*a,!1,!1);s.options[u]=f}}else r.style.visibility="hidden";GroupByPage(e)}function GroupByPage(e){showLoader(e,"");for(var t=grabEBI(e),n=parseInt(t.tf_ref_row),a=parseInt(t.tf_pagingLength),i=parseInt(t.tf_startPagingRow),r=i+a,s=grabTag(t,"tr"),o=0,d=new Array,l=n;l<s.length;l++){var c=s[l].getAttribute("validRow");"true"==c&&d.push(l)}for(h=0;h<d.length;h++)h>=i&&r>h?(o++,s[d[h]].style.display=""):s[d[h]].style.display="none";t.tf_nRows=parseInt(o),applyFilterProps(e)}function applyFilterProps(e){t=grabEBI(e);var n=t.tf_rowsCounter,a=t.tf_nRows,i=t.tf_rowVisibility,r=t.tf_alternateBgs,s=t.tf_colOperation;n&&showRowsCounter(e,parseInt(a)),i&&setVisibleRows(e),r&&setAlternateRows(e),s&&setColOperation(e),showLoader(e,"none")}function hasGrid(e){var t=!1,n=grabEBI(e);if(null!=n&&"table"==n.nodeName.toLowerCase())for(i in TblId)e==TblId[i]&&(t=!0);return t}function getCellsNb(e,t){var n,a=grabEBI(e);n=void 0==t?grabTag(a,"tr")[0]:grabTag(a,"tr")[t];var i=getChildElms(n);return i.childNodes.length}function getRowsNb(e){var t=grabEBI(e),n=t.tf_ref_row,a=grabTag(t,"tr").length;return parseInt(a-n)}function getFilters(e){var t=new Array,n=grabEBI(e),a=grabTag(n,"tr")[0],i=a.childNodes;if(n.tf_fltGrid)for(var r=0;r<i.length;r++)t.push(i[r].firstChild.getAttribute("id"));return t}function clearFilters(e){SearchFlt=getFilters(e);for(i in SearchFlt)grabEBI(SearchFlt[i]).value=""}function showLoader(e,t){var n=grabEBI("load_"+e);null!=n&&"none"==t?setTimeout("grabEBI('load_"+e+"').style.display = '"+t+"'",150):null!=n&&"none"!=t&&(n.style.display=t)}function showRowsCounter(e,t){var n=grabEBI("totrows_span_"+e);null!=n&&"span"==n.nodeName.toLowerCase()&&(n.innerHTML=t)}function getChildElms(e){if(1==e.nodeType){for(var t=e.childNodes,n=0;n<t.length;n++){var a=t[n];3==a.nodeType&&e.removeChild(a)}return e}}function getCellText(e){for(var t="",n=e.childNodes,a=0;a<n.length;a++){var i=n[a];t+=3==i.nodeType?i.data:getCellText(i)}return t}function getColValues(e,t,n){for(var a=grabEBI(e),i=grabTag(a,"tr"),r=i.length,s=parseInt(a.tf_ref_row),o=getCellsNb(e,s),d=new Array,l=s;r>l;l++){var c=getChildElms(i[l]).childNodes,u=c.length;if(u==o)for(var f=0;u>f;f++)if(f==t&&""==i[l].style.display){var h=getCellText(c[f]).toLowerCase();n?d.push(parseFloat(h)):d.push(h)}}return d}function setColWidths(e){if(hasGrid(e)){var t=grabEBI(e);t.style.tableLayout="fixed";for(var n=t.tf_colWidth,a=parseInt(t.tf_ref_row),i=grabTag(t,"tr")[0],r=getCellsNb(e,a),s=0;s<n.length;s++)for(var o=0;r>o;o++)cell=i.childNodes[o],o==s&&(cell.style.width=n[s])}}function setVisibleRows(e){if(hasGrid(e))for(var t=grabEBI(e),n=grabTag(t,"tr"),a=n.length,i=t.tf_displayPaging,r=t.tf_rowVisibility,s=0;s<r.length;s++)r[s]<=a&&(i&&n[r[s]].setAttribute("validRow","true"),n[r[s]].style.display="")}function setAlternateRows(e){if(hasGrid(e)){for(var t=grabEBI(e),n=grabTag(t,"tr"),a=n.length,i=parseInt(t.tf_ref_row),r=new Array,s=i;a>s;s++)""==n[s].style.display&&r.push(s);for(var o=0;o<r.length;o++)n[r[o]].className=o%2==0?"even":"odd"}}function setColOperation(e){if(hasGrid(e)){var t=grabEBI(e),n=t.tf_colOperation.id,a=t.tf_colOperation.col,i=t.tf_colOperation.operation,r=t.tf_colOperation.write_method,s=2;if("object"==(typeof n).toLowerCase()&&"object"==(typeof a).toLowerCase()&&"object"==(typeof i).toLowerCase()){for(var o=grabTag(t,"tr"),d=(o.length,parseInt(t.tf_ref_row)),l=(getCellsNb(e,d),new Array),c=0;c<a.length;c++)l.push(getColValues(e,a[c],!0));for(var u=0;u<l.length;u++){for(var f=0,h=0,p=0;p<l[u].length;p++){var m=l[u][p];if(!isNaN(m))switch(i[u].toLowerCase()){case"sum":f+=parseFloat(m);break;case"mean":h++,f+=parseFloat(m)}}switch(i[u].toLowerCase()){case"mean":f/=h}if(void 0!=r&&"object"==(typeof r).toLowerCase()){if(f=f.toFixed(s),void 0!=grabEBI(n[u]))switch(r[u].toLowerCase()){case"innerhtml":grabEBI(n[u]).innerHTML=f;break;case"setvalue":grabEBI(n[u]).value=f;break;case"createtextnode":var g=grabEBI(n[u]).firstChild,_=createText(f);grabEBI(n[u]).replaceChild(_,g)}}else try{grabEBI(n[u]).innerHTML=f.toFixed(s)}catch(v){}}}}}function grabEBI(e){return document.getElementById(e)}function grabTag(e,t){return e.getElementsByTagName(t)}function regexpEscape(t){function n(e){a=new RegExp("\\"+e,"g"),t=t.replace(a,"\\"+e)}chars=new Array("\\","[","^","$",".","|","?","*","+","(",")");for(e in chars)n(chars[e]);return t}function createElm(e){var t=document.createElement(e);if(arguments.length>1)for(var n=0;n<arguments.length;n++){var a=typeof arguments[n];switch(a.toLowerCase()){case"object":2==arguments[n].length&&t.setAttribute(arguments[n][0],arguments[n][1])}}return t}function createText(e){return document.createTextNode(e)}function DetectKey(e){var n=e?e:window.event?window.event:null;if(n){var a=n.charCode?n.charCode:n.keyCode?n.keyCode:n.which?n.which:0;if("13"==a){var i,r,s;i=this.getAttribute("id"),r=this.getAttribute("id").split("_")[0],s=i.substring(r.length+1,i.length),t=grabEBI(s),t.tf_isModfilter_fn?t.tf_modfilter_fn.call():Filter(s)}}}function importScript(e,t){for(var n=!1,a=grabTag(document,"script"),i=0;i<a.length;i++)if(a[i].src.match(t)){n=!0;break}if(!n){var r=grabTag(document,"head")[0],s=createElm("script",["id",e],["type","text/javascript"],["src",t]);r.appendChild(s)}}function TF_GetFilterIds(){try{return TblId}catch(e){alert("TF_GetFilterIds() fn: could not retrieve any ids")}}function TF_HasGrid(e){return hasGrid(e)}function TF_GetFilters(e){try{var t=getFilters(e);return t}catch(n){alert("TF_GetFilters() fn: table id not found")}}function TF_GetStartRow(e){try{var t=grabEBI(e);return t.tf_ref_row}catch(n){alert("TF_GetStartRow() fn: table id not found")}}function TF_GetColValues(e,t,n){return hasGrid(e)?getColValues(e,t,n):(alert("TF_GetColValues() fn: table id not found"),void 0)}function TF_Filter(e){grabEBI(e);TF_HasGrid(e)?Filter(e):alert("TF_Filter() fn: table id not found")}function TF_RemoveFilterGrid(e){if(TF_HasGrid(e)){var t=grabEBI(e);clearFilters(e),null!=grabEBI("inf_"+e)&&t.parentNode.removeChild(t.previousSibling);for(var n=grabTag(t,"tr"),a=0;a<n.length;a++){n[a].style.display="";try{n[a].hasAttribute("validRow")&&n[a].removeAttribute("validRow")}catch(r){for(var s=0;s<n[a].attributes.length;s++)"validrow"==n[a].attributes[s].nodeName.toLowerCase()&&n[a].removeAttribute("validRow")}}if(t.tf_alternateBgs)for(var o=0;o<n.length;o++)n[o].className="";t.tf_fltGrid&&t.deleteRow(0);for(i in TblId)e==TblId[i]&&TblId.splice(i,1)}else alert("TF_RemoveFilterGrid() fn: table id not found")}function TF_ClearFilters(e){TF_HasGrid(e)?clearFilters(e):alert("TF_ClearFilters() fn: table id not found")}function TF_SetFilterValue(e,t,n){if(TF_HasGrid(e)){var a=getFilters(e);for(i in a)i==t&&(grabEBI(a[i]).value=n)}else alert("TF_SetFilterValue() fn: table id not found")}function setAutoComplete(e){function t(){for(var t=TF_GetFilters(e),n=0;n<t.length;n++)"input"==grabEBI(t[n]).nodeName.toLowerCase()?colValues.push(getColValues(e,n)):colValues.push("");try{actb(grabEBI(t[0]),colValues[0])}catch(a){alert(i+" script may not be loaded")}}var n=grabEBI(e),a=n.tf_bindScript,i=(a.name,a.path);t()}!function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,a=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)},fire:function(t,n,a){var i=e.Event(n);return t.trigger(i,a),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(a){var i,r,s,o,d,l,c,u;if(n.fire(a,"ajax:before")){if(o=a.data("cross-domain"),d=o===t?null:o,l=a.data("with-credentials")||null,c=a.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,a.is("form")){i=a.attr("method"),r=a.attr("action"),s=a.serializeArray();var f=a.data("ujs:submit-button");f&&(s.push(f),a.data("ujs:submit-button",null))}else a.is(n.inputChangeSelector)?(i=a.data("method"),r=a.data("url"),s=a.serialize(),a.data("params")&&(s=s+"&"+a.data("params"))):a.is(n.buttonClickSelector)?(i=a.data("method")||"get",r=a.data("url"),s=a.serialize(),a.data("params")&&(s=s+"&"+a.data("params"))):(i=a.data("method"),r=n.href(a),s=a.data("params")||null);u={type:i||"GET",data:s,dataType:c,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(a,"ajax:beforeSend",[e,i])},success:function(e,t,n){a.trigger("ajax:success",[e,t,n])},complete:function(e,t){a.trigger("ajax:complete",[e,t])},error:function(e,t,n){a.trigger("ajax:error",[e,t,n])},crossDomain:d},l&&(u.xhrFields={withCredentials:l}),r&&(u.url=r);var h=n.ajax(u);return a.trigger("ajax:send",h),h}return!1},handleMethod:function(a){var i=n.href(a),r=a.data("method"),s=a.attr("target"),o=e("meta[name=csrf-token]").attr("content"),d=e("meta[name=csrf-param]").attr("content"),l=e('<form method="post" action="'+i+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';d!==t&&o!==t&&(c+='<input name="'+d+'" value="'+o+'" type="hidden" />'),s&&l.attr("target",s),l.hide().append(c).appendTo("body"),l.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,a=e.data("confirm"),i=!1;return a?(n.fire(e,"confirm")&&(i=n.confirm(a),t=n.fire(e,"confirm:complete",[i])),i&&t):!0},blankInputs:function(t,n,a){var i,r,s=e(),o=n||"input,textarea",d=t.find(o);return d.each(function(){if(i=e(this),r=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):i.val(),!r==!a){if(i.is("input[type=radio]")&&d.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;s=s.add(i)}}),s.length?s:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(a,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,a){e.crossDomain||n.CSRFProtection(a)}),a.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),a.delegate(n.linkClickSelector,"click.rails",function(a){var i=e(this),r=i.data("method"),s=i.data("params"),o=a.metaKey||a.ctrlKey;if(!n.allowAction(i))return n.stopEverything(a);if(!o&&i.is(n.linkDisableSelector)&&n.disableElement(i),i.data("remote")!==t){if(o&&(!r||"GET"===r)&&!s)return!0;var d=n.handleRemote(i);return d===!1?n.enableElement(i):d.error(function(){n.enableElement(i)}),!1}return i.data("method")?(n.handleMethod(i),!1):void 0}),a.delegate(n.buttonClickSelector,"click.rails",function(t){var a=e(this);return n.allowAction(a)?(n.handleRemote(a),!1):n.stopEverything(t)}),a.delegate(n.inputChangeSelector,"change.rails",function(t){var a=e(this);return n.allowAction(a)?(n.handleRemote(a),!1):n.stopEverything(t)}),a.delegate(n.formSubmitSelector,"submit.rails",function(a){var i=e(this),r=i.data("remote")!==t,s=n.blankInputs(i,n.requiredInputSelector),o=n.nonBlankInputs(i,n.fileInputSelector);if(!n.allowAction(i))return n.stopEverything(a);if(s&&i.attr("novalidate")==t&&n.fire(i,"ajax:aborted:required",[s]))return n.stopEverything(a);if(r){if(o){setTimeout(function(){n.disableFormElements(i)},13);var d=n.fire(i,"ajax:aborted:file",[o]);return d||setTimeout(function(){n.enableFormElements(i)},13),d}return n.handleRemote(i),!1}setTimeout(function(){n.disableFormElements(i)},13)}),a.delegate(n.formInputClickSelector,"click.rails",function(t){var a=e(this);if(!n.allowAction(a))return n.stopEverything(t);var i=a.attr("name"),r=i?{name:i,value:a.val()}:null;a.closest("form").data("ujs:submit-button",r)}),a.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),a.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(e){function t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(e,t){return function(n){return c(e.call(this,n),t)}}function a(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function i(){}function r(e){k(e),o(this,e)}function s(e){var t=g(e),n=t.year||0,a=t.month||0,i=t.week||0,r=t.day||0,s=t.hour||0,o=t.minute||0,d=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*d+6e4*o+36e5*s,this._days=+r+7*i,this._months=+a+12*n,this._data={},this._bubble()}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function d(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&gt.hasOwnProperty(t)&&(n[t]=e[t]);return n}function l(e){return 0>e?Math.ceil(e):Math.floor(e)}function c(e,t,n){for(var a=""+Math.abs(e),i=e>=0;a.length<t;)a="0"+a;return(i?n?"+":"":"-")+a}function u(e,t,n,a){var i,r,s=t._milliseconds,o=t._days,d=t._months;s&&e._d.setTime(+e._d+s*n),(o||d)&&(i=e.minute(),r=e.hour()),o&&e.date(e.date()+o*n),d&&e.month(e.month()+d*n),s&&!a&&at.updateOffset(e),(o||d)&&(e.minute(i),e.hour(r))}function f(e){return"[object Array]"===Object.prototype.toString.call(e)}function h(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function p(e,t,n){var a,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(a=0;i>a;a++)(n&&e[a]!==t[a]||!n&&v(e[a])!==v(t[a]))&&s++;return s+r}function m(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Vt[e]||Ut[t]||t}return e}function g(e){var t,n,a={};for(n in e)e.hasOwnProperty(n)&&(t=m(n),t&&(a[t]=e[n]));return a}function _(t){var n,a;if(0===t.indexOf("week"))n=7,a="day";else{if(0!==t.indexOf("month"))return;n=12,a="month"}at[t]=function(i,r){var s,o,d=at.fn._lang[t],l=[];if("number"==typeof i&&(r=i,i=e),o=function(e){var t=at().utc().set(a,e);return d.call(at.fn._lang,t,i||"")},null!=r)return o(r);for(s=0;n>s;s++)l.push(o(s));return l}}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function w(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function b(e){return y(e)?366:365}function y(e){return e%4===0&&e%100!==0||e%400===0}function k(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[lt]<0||e._a[lt]>11?lt:e._a[ct]<1||e._a[ct]>w(e._a[dt],e._a[lt])?ct:e._a[ut]<0||e._a[ut]>23?ut:e._a[ft]<0||e._a[ft]>59?ft:e._a[ht]<0||e._a[ht]>59?ht:e._a[pt]<0||e._a[pt]>999?pt:-1,e._pf._overflowDayOfYear&&(dt>t||t>ct)&&(t=ct),e._pf.overflow=t)}function D(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function T(e){return e?e.toLowerCase().replace("_","-"):e}function M(e,t){return t._isUTC?at(e).zone(t._offset||0):at(e).local()}function S(e,t){return t.abbr=e,mt[e]||(mt[e]=new i),mt[e].set(t),mt[e]}function E(e){delete mt[e]}function C(e){var t,n,a,i,r=0,s=function(e){if(!mt[e]&&_t)try{require("./lang/"+e)}catch(t){}return mt[e]};if(!e)return at.fn._lang;if(!f(e)){if(n=s(e))return n;e=[e]}for(;r<e.length;){for(i=T(e[r]).split("-"),t=i.length,a=T(e[r+1]),a=a?a.split("-"):null;t>0;){if(n=s(i.slice(0,t).join("-")))return n;if(a&&a.length>=t&&p(i,a,!0)>=t-1)break;t--}r++}return at.fn._lang}function x(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(e){var t,n,a=e.match(yt);for(t=0,n=a.length;n>t;t++)a[t]=Jt[a[t]]?Jt[a[t]]:x(a[t]);return function(i){var r="";for(t=0;n>t;t++)r+=a[t]instanceof Function?a[t].call(i,e):a[t];return r}}function I(e,t){return e.isValid()?(t=F(t,e.lang()),$t[t]||($t[t]=Y(t)),$t[t](e)):e.lang().invalidDate()}function F(e,t){function n(e){return t.longDateFormat(e)||e}var a=5;for(kt.lastIndex=0;a>=0&&kt.test(e);)e=e.replace(kt,n),kt.lastIndex=0,a-=1;return e}function N(e,t){var n,a=t._strict;switch(e){case"DDDD":return Ot;case"YYYY":case"GGGG":case"gggg":return a?Lt:Mt;case"Y":case"G":case"g":return At;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return a?Gt:St;case"S":if(a)return Ft;case"SS":if(a)return Nt;case"SSS":if(a)return Ot;case"DDD":return Tt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ct;case"a":case"A":return C(t._l)._meridiemParse;case"X":return It;case"Z":case"ZZ":return xt;case"T":return Yt;case"SSSS":return Et;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return a?Nt:Dt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Dt;default:return n=new RegExp(j(W(e.replace("\\","")),"i"))}}function O(e){e=e||"";var t=e.match(xt)||[],n=t[t.length-1]||[],a=(n+"").match(Ht)||["-",0,0],i=+(60*a[1])+v(a[2]);return"+"===a[0]?-i:i}function L(e,t,n){var a,i=n._a;switch(e){case"M":case"MM":null!=t&&(i[lt]=v(t)-1);break;case"MMM":case"MMMM":a=C(n._l).monthsParse(t),null!=a?i[lt]=a:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[ct]=v(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=v(t));break;case"YY":i[dt]=v(t)+(v(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":i[dt]=v(t);break;case"a":case"A":n._isPm=C(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[ut]=v(t);break;case"m":case"mm":i[ft]=v(t);break;case"s":case"ss":i[ht]=v(t);break;case"S":case"SS":case"SSS":case"SSSS":i[pt]=v(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=O(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function G(e){var t,n,a,i,r,s,o,d,l,c,u=[];if(!e._d){for(a=P(e),e._w&&null==e._a[ct]&&null==e._a[lt]&&(r=function(t){var n=parseInt(t,10);return t?t.length<3?n>68?1900+n:2e3+n:n:null==e._a[dt]?at().weekYear():e._a[dt]},s=e._w,null!=s.GG||null!=s.W||null!=s.E?o=K(r(s.GG),s.W||1,s.E,4,1):(d=C(e._l),l=null!=s.d?$(s.d,d):null!=s.e?parseInt(s.e,10)+d._week.dow:0,c=parseInt(s.w,10)||1,null!=s.d&&l<d._week.dow&&c++,o=K(r(s.gg),c,l,d._week.doy,d._week.dow)),e._a[dt]=o.year,e._dayOfYear=o.dayOfYear),e._dayOfYear&&(i=null==e._a[dt]?a[dt]:e._a[dt],e._dayOfYear>b(i)&&(e._pf._overflowDayOfYear=!0),n=U(i,0,e._dayOfYear),e._a[lt]=n.getUTCMonth(),e._a[ct]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=u[t]=a[t];for(;7>t;t++)e._a[t]=u[t]=null==e._a[t]?2===t?1:0:e._a[t];u[ut]+=v((e._tzm||0)/60),u[ft]+=v((e._tzm||0)%60),e._d=(e._useUTC?U:V).apply(null,u)}}function A(e){var t;e._d||(t=g(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],G(e))}function P(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function B(e){e._a=[],e._pf.empty=!0;var t,n,a,i,r,s=C(e._l),o=""+e._i,d=o.length,l=0;for(a=F(e._f,s).match(yt)||[],t=0;t<a.length;t++)i=a[t],n=(o.match(N(i,e))||[])[0],n&&(r=o.substr(0,o.indexOf(n)),r.length>0&&e._pf.unusedInput.push(r),o=o.slice(o.indexOf(n)+n.length),l+=n.length),Jt[i]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(i),L(i,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(i);e._pf.charsLeftOver=d-l,o.length>0&&e._pf.unusedInput.push(o),e._isPm&&e._a[ut]<12&&(e._a[ut]+=12),e._isPm===!1&&12===e._a[ut]&&(e._a[ut]=0),G(e),k(e)}function W(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,i){return t||n||a||i})}function j(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(e){var n,a,i,r,s;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(0/0),void 0;for(r=0;r<e._f.length;r++)s=0,n=o({},e),n._pf=t(),n._f=e._f[r],B(n),D(n)&&(s+=n._pf.charsLeftOver,s+=10*n._pf.unusedTokens.length,n._pf.score=s,(null==i||i>s)&&(i=s,a=n));o(e,a||n)}function R(e){var t,n,a=e._i,i=Pt.exec(a);if(i){for(e._pf.iso=!0,t=0,n=Wt.length;n>t;t++)if(Wt[t][1].exec(a)){e._f=Wt[t][0]+(i[6]||" ");break}for(t=0,n=jt.length;n>t;t++)if(jt[t][1].exec(a)){e._f+=jt[t][0];break}a.match(xt)&&(e._f+="Z"),B(e)}else e._d=new Date(a)}function z(t){var n=t._i,a=vt.exec(n);n===e?t._d=new Date:a?t._d=new Date(+a[1]):"string"==typeof n?R(t):f(n)?(t._a=n.slice(0),G(t)):h(n)?t._d=new Date(+n):"object"==typeof n?A(t):t._d=new Date(n)}function V(e,t,n,a,i,r,s){var o=new Date(e,t,n,a,i,r,s);return 1970>e&&o.setFullYear(e),o}function U(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function $(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function q(e,t,n,a,i){return i.relativeTime(t||1,!!n,e,a)}function Z(e,t,n){var a=ot(Math.abs(e)/1e3),i=ot(a/60),r=ot(i/60),s=ot(r/24),o=ot(s/365),d=45>a&&["s",a]||1===i&&["m"]||45>i&&["mm",i]||1===r&&["h"]||22>r&&["hh",r]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",ot(s/30)]||1===o&&["y"]||["yy",o];return d[2]=t,d[3]=e>0,d[4]=n,q.apply({},d)}function J(e,t,n){var a,i=n-t,r=n-e.day();return r>i&&(r-=7),i-7>r&&(r+=7),a=at(e).add("d",r),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function K(e,t,n,a,i){var r,s,o=U(e,0,1).getUTCDay();return n=null!=n?n:i,r=i-o+(o>a?7:0)-(i>o?7:0),s=7*(t-1)+(n-i)+r+1,{year:s>0?e:e-1,dayOfYear:s>0?s:b(e-1)+s}}function Q(e){var t=e._i,n=e._f;return null===t?at.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=C().preparse(t)),at.isMoment(t)?(e=d(t),e._d=new Date(+t._d)):n?f(n)?H(e):B(e):z(e),new r(e))}function X(e,t){at.fn[e]=at.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),at.updateOffset(this),this):this._d["get"+n+t]()}}function et(e){at.duration.fn[e]=function(){return this._data[e]}}function tt(e,t){at.duration.fn["as"+e]=function(){return+this/t}}function nt(e){var t=!1,n=at;"undefined"==typeof ender&&(e?(st.moment=function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)},o(st.moment,n)):st.moment=at)}for(var at,it,rt="2.5.1",st=this,ot=Math.round,dt=0,lt=1,ct=2,ut=3,ft=4,ht=5,pt=6,mt={},gt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},_t="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,vt=/^\/?Date\((\-?\d+)/i,wt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,bt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,yt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,kt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Dt=/\d\d?/,Tt=/\d{1,3}/,Mt=/\d{1,4}/,St=/[+\-]?\d{1,6}/,Et=/\d+/,Ct=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,xt=/Z|[\+\-]\d\d:?\d\d/gi,Yt=/T/i,It=/[\+\-]?\d+(\.\d{1,3})?/,Ft=/\d/,Nt=/\d\d/,Ot=/\d{3}/,Lt=/\d{4}/,Gt=/[+-]?\d{6}/,At=/[+-]?\d+/,Pt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bt="YYYY-MM-DDTHH:mm:ssZ",Wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],jt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ht=/([\+\-]|\d\d)/gi,Rt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),zt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Vt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ut={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},$t={},qt="DDD w W M D d".split(" "),Zt="M D H h m s w W".split(" "),Jt={M:function(){return this.month()+1
},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return c(this.year()%100,2)},YYYY:function(){return c(this.year(),4)},YYYYY:function(){return c(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+c(Math.abs(e),6)},gg:function(){return c(this.weekYear()%100,2)},gggg:function(){return c(this.weekYear(),4)},ggggg:function(){return c(this.weekYear(),5)},GG:function(){return c(this.isoWeekYear()%100,2)},GGGG:function(){return c(this.isoWeekYear(),4)},GGGGG:function(){return c(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return v(this.milliseconds()/100)},SS:function(){return c(v(this.milliseconds()/10),2)},SSS:function(){return c(this.milliseconds(),3)},SSSS:function(){return c(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+c(v(e/60),2)+":"+c(v(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+c(v(e/60),2)+c(v(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Kt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];qt.length;)it=qt.pop(),Jt[it+"o"]=a(Jt[it],it);for(;Zt.length;)it=Zt.pop(),Jt[it+it]=n(Jt[it],2);for(Jt.DDDD=n(Jt.DDD,3),o(i.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,a;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=at.utc([2e3,t]),a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(a.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,a;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=at([2e3,1]).day(t),a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,a){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,a):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return J(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),at=function(n,a,i,r){var s;return"boolean"==typeof i&&(r=i,i=e),s={},s._isAMomentObject=!0,s._i=n,s._f=a,s._l=i,s._strict=r,s._isUTC=!1,s._pf=t(),Q(s)},at.utc=function(n,a,i,r){var s;return"boolean"==typeof i&&(r=i,i=e),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=i,s._i=n,s._f=a,s._strict=r,s._pf=t(),Q(s).utc()},at.unix=function(e){return at(1e3*e)},at.duration=function(e,t){var n,a,i,r=e,o=null;return at.isDuration(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(r={},t?r[t]=e:r.milliseconds=e):(o=wt.exec(e))?(n="-"===o[1]?-1:1,r={y:0,d:v(o[ct])*n,h:v(o[ut])*n,m:v(o[ft])*n,s:v(o[ht])*n,ms:v(o[pt])*n}):(o=bt.exec(e))&&(n="-"===o[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},r={y:i(o[2]),M:i(o[3]),d:i(o[4]),h:i(o[5]),m:i(o[6]),s:i(o[7]),w:i(o[8])}),a=new s(r),at.isDuration(e)&&e.hasOwnProperty("_lang")&&(a._lang=e._lang),a},at.version=rt,at.defaultFormat=Bt,at.updateOffset=function(){},at.lang=function(e,t){var n;return e?(t?S(T(e),t):null===t?(E(e),e="en"):mt[e]||C(e),n=at.duration.fn._lang=at.fn._lang=C(e),n._abbr):at.fn._lang._abbr},at.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),C(e)},at.isMoment=function(e){return e instanceof r||null!=e&&e.hasOwnProperty("_isAMomentObject")},at.isDuration=function(e){return e instanceof s},it=Kt.length-1;it>=0;--it)_(Kt[it]);for(at.normalizeUnits=function(e){return m(e)},at.invalid=function(e){var t=at.utc(0/0);return null!=e?o(t._pf,e):t._pf.userInvalidated=!0,t},at.parseZone=function(e){return at(e).parseZone()},o(at.fn=r.prototype,{clone:function(){return at(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=at(this).utc();return 0<e.year()&&e.year()<=9999?I(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return D(this)},isDSTShifted:function(){return this._a?this.isValid()&&p(this._a,(this._isUTC?at.utc(this._a):at(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=I(this,e||at.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?at.duration(+t,e):at.duration(e,t),u(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?at.duration(+t,e):at.duration(e,t),u(this,n,-1),this},diff:function(e,t,n){var a,i,r=M(e,this),s=6e4*(this.zone()-r.zone());return t=m(t),"year"===t||"month"===t?(a=432e5*(this.daysInMonth()+r.daysInMonth()),i=12*(this.year()-r.year())+(this.month()-r.month()),i+=(this-at(this).startOf("month")-(r-at(r).startOf("month")))/a,i-=6e4*(this.zone()-at(this).startOf("month").zone()-(r.zone()-at(r).startOf("month").zone()))/a,"year"===t&&(i/=12)):(a=this-r,i="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-s)/864e5:"week"===t?(a-s)/6048e5:a),n?i:l(i)},from:function(e,t){return at.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(at(),e)},calendar:function(){var e=M(at(),this).startOf("day"),t=this.diff(e,"days",!0),n=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return y(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=$(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),at.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=m(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=m(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+at(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+at(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+M(e,this).startOf(t)},min:function(e){return e=at.apply(null,arguments),this>e?this:e},max:function(e){return e=at.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=O(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&u(this,at.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?at(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return w(this.year(),this.month())},dayOfYear:function(e){var t=ot((at(this).startOf("day")-at(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(e){var t=J(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=J(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=J(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=m(e),this[e]()},set:function(e,t){return e=m(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=C(t),this)}}),it=0;it<Rt.length;it++)X(Rt[it].toLowerCase().replace(/s$/,""),Rt[it]);X("year","FullYear"),at.fn.days=at.fn.day,at.fn.months=at.fn.month,at.fn.weeks=at.fn.week,at.fn.isoWeeks=at.fn.isoWeek,at.fn.toJSON=at.fn.toISOString,o(at.duration.fn=s.prototype,{_bubble:function(){var e,t,n,a,i=this._milliseconds,r=this._days,s=this._months,o=this._data;o.milliseconds=i%1e3,e=l(i/1e3),o.seconds=e%60,t=l(e/60),o.minutes=t%60,n=l(t/60),o.hours=n%24,r+=l(n/24),o.days=r%30,s+=l(r/30),o.months=s%12,a=l(s/12),o.years=a},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)},humanize:function(e){var t=+this,n=Z(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=at.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=at.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=m(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=m(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:at.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),a=Math.abs(this.hours()),i=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(a||i||r?"T":"")+(a?a+"H":"")+(i?i+"M":"")+(r?r+"S":""):"P0D"}});for(it in zt)zt.hasOwnProperty(it)&&(tt(it,zt[it]),et(it.toLowerCase()));tt("Weeks",6048e5),at.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},at.lang("en",{ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),_t?(module.exports=at,nt(!0)):"function"==typeof define&&define.amd?define("moment",function(t,n,a){return a.config&&a.config()&&a.config().noGlobal!==!0&&nt(a.config().noGlobal===e),at}):nt()}.call(this),function(e){if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else{if(!jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if(!moment)throw"bootstrap-datetimepicker requires moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){if("undefined"==typeof t)throw alert("momentjs is requried"),new Error("momentjs is required");var n=0,a=t,i=function(t,i){var r={pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,minuteStepping:1,startDate:new a({y:1970}),endDate:(new a).add(50,"y"),collapse:!0,language:a.lang(),defaultDate:"",disabledDates:[],enabledDates:!1,icons:{},useStrict:!1,direction:"auto"},s={time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},o=this,d=function(){var d,c,u,f=!1;if(o.options=e.extend({},r,i),o.options.icons=e.extend({},s,o.options.icons),o.element=e(t),l(),!o.options.pickTime&&!o.options.pickDate)throw new Error("Must choose at least one picker");if(o.id=n++,a.lang(o.options.language),o.date=a(),o.unset=!1,o.isInput=o.element.is("input"),o.component=!1,o.element.hasClass("input-group")&&(o.component=0==o.element.find(".datepickerbutton").size()?o.element.find("[class^='input-group-']"):o.element.find(".datepickerbutton")),o.format=o.options.format,u=a()._lang._longDateFormat,o.format||(o.format=o.isInput?o.element.data("format"):o.element.find("input").data("format"),o.format||(o.format=o.options.pickDate?u.L:"",o.options.pickDate&&o.options.pickTime&&(o.format+=" "),o.format+=o.options.pickTime?u.LT:"",o.options.useSeconds&&(~u.LT.indexOf(" A")?o.format=o.format.split(" A")[0]+":ss A":o.format+=":ss"))),o.options.use24hours=o.format.toLowerCase().indexOf("a")<1,o.component&&(f=o.component.find("span")),o.options.pickTime&&f&&f.addClass(o.options.icons.time),o.options.pickDate&&f&&(f.removeClass(o.options.icons.time),f.addClass(o.options.icons.date)),o.widget=e(A(o.options.pickDate,o.options.pickTime,o.options.collapse)).appendTo("body"),o.minViewMode=o.options.minViewMode||o.element.data("date-minviewmode")||0,"string"==typeof o.minViewMode)switch(o.minViewMode){case"months":o.minViewMode=1;break;case"years":o.minViewMode=2;break;default:o.minViewMode=0}if(o.viewMode=o.options.viewMode||o.element.data("date-viewmode")||0,"string"==typeof o.viewMode)switch(o.viewMode){case"months":o.viewMode=1;break;case"years":o.viewMode=2;break;default:o.viewMode=0}for(d=0;d<o.options.disabledDates.length;d++)c=o.options.disabledDates[d],c=a(c),c.isValid()||(c=a(o.options.startDate).subtract(1,"day")),o.options.disabledDates[d]=c.format("L");for(d=0;d<o.options.enabledDates.length;d++)c=o.options.enabledDates[d],c=a(c),c.isValid()||(c=a(o.options.startDate).subtract(1,"day")),o.options.enabledDates[d]=c.format("L");o.startViewMode=o.viewMode,o.setStartDate(o.options.startDate||o.element.data("date-startdate")),o.setEndDate(o.options.endDate||o.element.data("date-enddate")),p(),m(),_(),v(),w(),h(),S(),E(),""!==o.options.defaultDate&&o.setValue(o.options.defaultDate)},l=function(){var e=o.element.data();void 0!==e.pickdate&&(o.options.pickDate=e.pickdate),void 0!==e.picktime&&(o.options.pickTime=e.picktime),void 0!==e.useminutes&&(o.options.useMinutes=e.useminutes),void 0!==e.useseconds&&(o.options.useSeconds=e.useseconds),void 0!==e.minutestepping&&(o.options.minuteStepping=e.minutestepping),void 0!==e.startdate&&(o.options.startDate=e.startdate),void 0!==e.enddate&&(o.options.endDate=e.enddate),void 0!==e.collapse&&(o.options.collapse=e.collapse),void 0!==e.language&&(o.options.language=e.language),void 0!==e.defaultdate&&(o.options.defaultDate=e.defaultdate),void 0!==e.disableddates&&(o.options.disabledDates=e.disableddates),void 0!==e.enableddates&&(o.options.enabledDates=e.enableddates),void 0!==e.icons&&(o.options.icons=e.icons),void 0!==e.usestrict&&(o.options.useStrict=e.usestrict)},c=function(){var t="absolute",n=o.component?o.component.offset():o.element.offset(),a=e(window);o.width=o.component?o.component.outerWidth():o.element.outerWidth(),n.top=n.top+o.element.outerHeight(),void 0!==o.options.width&&o.widget.width(o.options.width),"left"===o.options.orientation&&(o.widget.addClass("left-oriented"),n.left=n.left-o.widget.width()+20),I()&&(t="fixed",n.top-=a.scrollTop(),n.left-=a.scrollLeft()),a.width()<n.left+o.widget.outerWidth()?(n.right=a.width()-n.left-o.width,n.left="auto",o.widget.addClass("pull-right")):(n.right="auto",o.widget.removeClass("pull-right")),o.widget.css({position:t,top:n.top,left:n.left,right:n.right})},u=function(e,t){o.element.trigger({type:"change.dp",date:a(o.date),oldDate:a(e)}),"change"!==t&&o.element.change()},f=function(e){o.element.trigger({type:"error.dp",date:a(e)})},h=function(e){a.lang(o.options.language);var t=e;t||(t=o.isInput?o.element.val():o.element.find("input").val(),t&&(o.date=a(t,o.format,o.options.useStrict)),o.date||(o.date=a())),o.viewDate=a(o.date).startOf("month"),g(),b()},p=function(){a.lang(o.options.language);var t,n=e("<tr>"),i=a.weekdaysMin();if(0==a()._lang._week.dow)for(t=0;7>t;t++)n.append('<th class="dow">'+i[t]+"</th>");else for(t=1;8>t;t++)7==t?n.append('<th class="dow">'+i[0]+"</th>"):n.append('<th class="dow">'+i[t]+"</th>");o.widget.find(".datepicker-days thead").append(n)},m=function(){a.lang(o.options.language);for(var e="",t=0,n=a.monthsShort();12>t;)e+='<span class="month">'+n[t++]+"</span>";o.widget.find(".datepicker-months td").append(e)},g=function(){a.lang(o.options.language);var t,n,i,r,s,d,l,c,u=o.viewDate.year(),f=o.viewDate.month(),h=o.options.startDate.year(),p=o.options.startDate.month(),m=o.options.endDate.year(),g=o.options.endDate.month(),_=[],v=a.months();for(o.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),o.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),o.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),o.widget.find(".datepicker-days th:eq(1)").text(v[f]+" "+u),t=a(o.viewDate).subtract("months",1),d=t.daysInMonth(),t.date(d).startOf("week"),(u==h&&p>=f||h>u)&&o.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(u==m&&f>=g||u>m)&&o.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),n=a(t).add(42,"d");t.isBefore(n);)t.weekday()===a().startOf("week").weekday()&&(i=e("<tr>"),_.push(i)),r="",t.year()<u||t.year()==u&&t.month()<f?r+=" old":(t.year()>u||t.year()==u&&t.month()>f)&&(r+=" new"),t.isSame(a({y:o.date.year(),M:o.date.month(),d:o.date.date()}))&&(r+=" active"),(O(t)||!L(t))&&(r+=" disabled"),i.append('<td class="day'+r+'">'+t.date()+"</td>"),t.add(1,"d");for(o.widget.find(".datepicker-days tbody").empty().append(_),c=a().year(),v=o.widget.find(".datepicker-months").find("th:eq(1)").text(u).end().find("span").removeClass("active"),c===u&&v.eq(a().month()).addClass("active"),h>c-1&&o.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),c+1>m&&o.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),s=0;12>s;s++)u==h&&p>s||h>u?e(v[s]).addClass("disabled"):(u==m&&s>g||u>m)&&e(v[s]).addClass("disabled");for(_="",u=10*parseInt(u/10,10),l=o.widget.find(".datepicker-years").find("th:eq(1)").text(u+"-"+(u+9)).end().find("td"),o.widget.find(".datepicker-years").find("th").removeClass("disabled"),h>u&&o.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),u+9>m&&o.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),u-=1,s=-1;11>s;s++)_+='<span class="year'+(-1===s||10===s?" old":"")+(c===u?" active":"")+(h>u||u>m?" disabled":"")+'">'+u+"</span>",u+=1;l.html(_)},_=function(){a.lang(o.options.language);var e,t,n,i=o.widget.find(".timepicker .timepicker-hours table"),r="";if(i.parent().hide(),o.options.use24hours)for(e=0,t=0;6>t;t+=1){for(r+="<tr>",n=0;4>n;n+=1)r+='<td class="hour">'+G(e.toString())+"</td>",e++;r+="</tr>"}else for(e=1,t=0;3>t;t+=1){for(r+="<tr>",n=0;4>n;n+=1)r+='<td class="hour">'+G(e.toString())+"</td>",e++;r+="</tr>"}i.html(r)},v=function(){var e,t,n=o.widget.find(".timepicker .timepicker-minutes table"),a="",i=0;for(n.parent().hide(),e=0;5>e;e++){for(a+="<tr>",t=0;4>t;t+=1)a+='<td class="minute">'+G(i.toString())+"</td>",i+=3;a+="</tr>"}n.html(a)},w=function(){var e,t,n=o.widget.find(".timepicker .timepicker-seconds table"),a="",i=0;for(n.parent().hide(),e=0;5>e;e++){for(a+="<tr>",t=0;4>t;t+=1)a+='<td class="second">'+G(i.toString())+"</td>",i+=3;a+="</tr>"}n.html(a)},b=function(){if(o.date){var e=o.widget.find(".timepicker span[data-time-component]"),t=o.date.hours(),n="AM";o.options.use24hours||(t>=12&&(n="PM"),0===t?t=12:12!=t&&(t%=12),o.widget.find(".timepicker [data-action=togglePeriod]").text(n)),e.filter("[data-time-component=hours]").text(G(t)),e.filter("[data-time-component=minutes]").text(G(o.date.minutes())),e.filter("[data-time-component=seconds]").text(G(o.date.second()))}},y=function(t){t.stopPropagation(),t.preventDefault(),o.unset=!1;var n,i,r,s,d=e(t.target).closest("span, td, th"),l=a(o.date);if(1===d.length&&!d.is(".disabled"))switch(d[0].nodeName.toLowerCase()){case"th":switch(d[0].className){case"switch":S(1);break;case"prev":case"next":r=P.modes[o.viewMode].navStep,"prev"===d[0].className&&(r=-1*r),o.viewDate.add(r,P.modes[o.viewMode].navFnc),g()}break;case"span":d.is(".month")?(n=d.parent().find("span").index(d),o.viewDate.month(n)):(i=parseInt(d.text(),10)||0,o.viewDate.year(i)),0!==o.viewMode&&(o.date=a({y:o.viewDate.year(),M:o.viewDate.month(),d:o.viewDate.date(),h:o.date.hours(),m:o.date.minutes()}),u(l,t.type)),S(-1),g();break;case"td":d.is(".day")&&(s=parseInt(d.text(),10)||1,n=o.viewDate.month(),i=o.viewDate.year(),d.is(".old")?0===n?(n=11,i-=1):n-=1:d.is(".new")&&(11==n?(n=0,i+=1):n+=1),o.date=a({y:i,M:n,d:s,h:o.date.hours(),m:o.date.minutes()}),o.viewDate=a({y:i,M:n,d:Math.min(28,s)}),g(),F(),u(l,t.type))}},k={incrementHours:function(){N("add","hours",1)},incrementMinutes:function(){N("add","minutes",o.options.minuteStepping)},incrementSeconds:function(){N("add","seconds",1)},decrementHours:function(){N("subtract","hours",1)},decrementMinutes:function(){N("subtract","minutes",o.options.minuteStepping)},decrementSeconds:function(){N("subtract","seconds",1)},togglePeriod:function(){var e=o.date.hours();e>=12?e-=12:e+=12,o.date.hours(e)},showPicker:function(){o.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),o.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){o.widget.find(".timepicker .timepicker-picker").hide(),o.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){o.widget.find(".timepicker .timepicker-picker").hide(),o.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){o.widget.find(".timepicker .timepicker-picker").hide(),o.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){o.date.hours(parseInt(e(t.target).text(),10)),k.showPicker.call(o)},selectMinute:function(t){o.date.minutes(parseInt(e(t.target).text(),10)),k.showPicker.call(o)},selectSecond:function(t){o.date.seconds(parseInt(e(t.target).text(),10)),k.showPicker.call(o)}},D=function(t){var n=a(o.date),i=e(t.currentTarget).data("action"),r=k[i].apply(o,arguments);return T(t),o.date||(o.date=a({y:1970})),F(),b(),u(n,t.type),r},T=function(e){e.stopPropagation(),e.preventDefault()},M=function(t){a.lang(o.options.language);var n=e(t.target),i=a(o.date),r=a(n.val(),o.format,o.options.useStrict);r.isValid()&&!O(r)&&L(r)?(h(),o.setValue(r),u(i,t.type),F()):(o.viewDate=i,n.val(a(i).format(o.format)),u(i,t.type),f(r),o.unset=!0)},S=function(e){e&&(o.viewMode=Math.max(o.minViewMode,Math.min(2,o.viewMode+e))),o.widget.find(".datepicker > div").hide().filter(".datepicker-"+P.modes[o.viewMode].clsName).show()},E=function(){var t,n,a,i,r;o.widget.on("click",".datepicker *",e.proxy(y,this)),o.widget.on("click","[data-action]",e.proxy(D,this)),o.widget.on("mousedown",e.proxy(T,this)),o.options.pickDate&&o.options.pickTime&&o.widget.on("click.togglePicker",".accordion-toggle",function(s){if(s.stopPropagation(),t=e(this),n=t.closest("ul"),a=n.find(".in"),i=n.find(".collapse:not(.in)"),a&&a.length){if(r=a.data("collapse"),r&&r.transitioning)return;a.collapse("hide"),i.collapse("show"),t.find("span").toggleClass(o.options.icons.time+" "+o.options.icons.date),o.element.find(".input-group-addon span").toggleClass(o.options.icons.time+" "+o.options.icons.date)}}),o.isInput?o.element.on({focus:e.proxy(o.show,this),change:e.proxy(M,this),blur:e.proxy(o.hide,this)}):(o.element.on({change:e.proxy(M,this)},"input"),o.component?o.component.on("click",e.proxy(o.show,this)):o.element.on("click",e.proxy(o.show,this)))},C=function(){e(window).on("resize.datetimepicker"+o.id,e.proxy(c,this)),o.isInput||e(document).on("mousedown.datetimepicker"+o.id,e.proxy(o.hide,this))},x=function(){o.widget.off("click",".datepicker *",o.click),o.widget.off("click","[data-action]"),o.widget.off("mousedown",o.stopEvent),o.options.pickDate&&o.options.pickTime&&o.widget.off("click.togglePicker"),o.isInput?o.element.off({focus:o.show,change:o.change}):(o.element.off({change:o.change},"input"),o.component?o.component.off("click",o.show):o.element.off("click",o.show))},Y=function(){e(window).off("resize.datetimepicker"+o.id),o.isInput||e(document).off("mousedown.datetimepicker"+o.id)},I=function(){if(o.element){var t,n=o.element.parents(),a=!1;for(t=0;t<n.length;t++)if("fixed"==e(n[t]).css("position")){a=!0;break}return a}return!1},F=function(){a.lang(o.options.language);var e,t="";o.unset||(t=a(o.date).format(o.format)),o.isInput?o.element.val(t):(o.component&&(e=o.element.find("input"),e.val(t)),o.element.data("date",t)),o.options.pickTime||o.hide()},N=function(e,t,n){a.lang(o.options.language);var i;return"add"==e?(i=a(o.date),23==i.hours()&&i.add(n,t),i.add(n,t)):i=a(o.date).subtract(n,t),O(a(i.subtract(n,t)))||O(i)?(f(i.format(o.format)),void 0):("add"==e?o.date.add(n,t):o.date.subtract(n,t),o.unset=!1,void 0)},O=function(e){if(a.lang(o.options.language),e.isAfter(o.options.endDate)||e.isBefore(o.options.startDate))return!0;var t,n=o.options.disabledDates;for(t in n)if(n[t]==a(e).format("L"))return!0;return!1},L=function(e){a.lang(o.options.language);var t,n=o.options.enabledDates;if(n.length){for(t in n)if(n[t]==a(e).format("L"))return!0;return!1}return n===!1?!0:!1},G=function(e){return e=e.toString(),e.length>=2?e:"0"+e},A=function(e,t,n){return e&&t?'<div class="bootstrap-datetimepicker-widget dropdown-menu" style="z-index:9999 !important;"><ul class="list-unstyled"><li'+(n?' class="collapse in"':"")+'><div class="datepicker">'+P.template+'</div></li><li class="picker-switch accordion-toggle"><a class="btn" style="width:100%"><span class="'+o.options.icons.time+'"></span></a></li><li'+(n?' class="collapse"':"")+'><div class="timepicker">'+B.getTemplate()+"</div></li></ul></div>":t?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+B.getTemplate()+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+P.template+"</div></div>"},P={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}],headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'},B={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>'};P.template='<div class="datepicker-days"><table class="table-condensed">'+P.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+P.headTemplate+P.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+P.headTemplate+P.contTemplate+"</table></div>",B.getTemplate=function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+o.options.icons.up+'"></span></a></td><td class="separator"></td><td>'+(o.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><span class="'+o.options.icons.up+'"></span></a>':"")+"</td>"+(o.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><span class="'+o.options.icons.up+'"></span></a></td>':"")+(o.options.use24hours?"":'<td class="separator"></td>')+"</tr><tr><td>"+B.hourTemplate+'</td> <td class="separator">:</td><td>'+(o.options.useMinutes?B.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</td> "+(o.options.useSeconds?'<td class="separator">:</td><td>'+B.secondTemplate+"</td>":"")+(o.options.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><span class="'+o.options.icons.down+'"></span></a></td><td class="separator"></td><td>'+(o.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><span class="'+o.options.icons.down+'"></span></a>':"")+"</td>"+(o.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><span class="'+o.options.icons.down+'"></span></a></td>':"")+(o.options.use24hours?"":'<td class="separator"></td>')+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(o.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")},o.destroy=function(){x(),Y(),o.widget.remove(),o.element.removeData("DateTimePicker"),o.component&&o.component.removeData("DateTimePicker")},o.show=function(e){o.widget.show(),o.height=o.component?o.component.outerHeight():o.element.outerHeight(),c(),o.element.trigger({type:"show.dp",date:a(o.date)}),C(),e&&T(e)},o.disable=function(){var e=o.element.find("input");e.prop("disabled")||(e.prop("disabled",!0),x())},o.enable=function(){var e=o.element.find("input");e.prop("disabled")&&(e.prop("disabled",!1),E())},o.hide=function(t){if(!t||!e(t.target).is(o.element.attr("id"))){var n,i,r=o.widget.find(".collapse");for(n=0;n<r.length;n++)if(i=r.eq(n).data("collapse"),i&&i.transitioning)return;o.widget.hide(),o.viewMode=o.startViewMode,S(),o.element.trigger({type:"hide.dp",date:a(o.date)}),Y()}},o.setValue=function(e){a.lang(o.options.language),o.unset=e?!1:!0,a.isMoment(e)||(e=a(e)),e.isValid()?(o.date=e,F(),o.viewDate=a({y:o.date.year(),M:o.date.month()}),g(),b()):f(e)},o.getDate=function(){return o.unset?null:o.date},o.setDate=function(e){e=a(e),e?o.setValue(e):o.setValue(null)},o.setEnabledDates=function(e){o.options.enabledDates=e?e:!1,o.viewDate&&h()},o.setEndDate=function(e){void 0!=e&&(o.options.endDate=a(e),o.viewDate&&h())
},o.setStartDate=function(e){void 0!=e&&(o.options.startDate=a(e),o.viewDate&&h())},d()};e.fn.datetimepicker=function(t){return this.each(function(){var n=e(this),a=n.data("DateTimePicker");a||n.data("DateTimePicker",new i(this,t))})}}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);var stIsIE=!1;if(sorttable={init:function(){arguments.callee.done||(arguments.callee.done=!0,_timer&&clearInterval(_timer),document.createElement&&document.getElementsByTagName&&(sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,forEach(document.getElementsByTagName("table"),function(e){-1!=e.className.search(/\bsortable\b/)&&sorttable.makeSortable(e)})))},makeSortable:function(e){if(0==e.getElementsByTagName("thead").length&&(the=document.createElement("thead"),the.appendChild(e.rows[0]),e.insertBefore(the,e.firstChild)),null==e.tHead&&(e.tHead=e.getElementsByTagName("thead")[0]),1==e.tHead.rows.length){sortbottomrows=[];for(var t=0;t<e.rows.length;t++)-1!=e.rows[t].className.search(/\bsortbottom\b/)&&(sortbottomrows[sortbottomrows.length]=e.rows[t]);if(sortbottomrows){null==e.tFoot&&(tfo=document.createElement("tfoot"),e.appendChild(tfo));for(var t=0;t<sortbottomrows.length;t++)tfo.appendChild(sortbottomrows[t]);delete sortbottomrows}headrow=e.tHead.rows[0].cells;for(var t=0;t<headrow.length;t++)headrow[t].className.match(/\bsorttable_nosort\b/)||(mtch=headrow[t].className.match(/\bsorttable_([a-z0-9]+)\b/),mtch&&(override=mtch[1]),headrow[t].sorttable_sortfunction=mtch&&"function"==typeof sorttable["sort_"+override]?sorttable["sort_"+override]:sorttable.guessType(e,t),headrow[t].sorttable_columnindex=t,headrow[t].sorttable_tbody=e.tBodies[0],dean_addEvent(headrow[t],"click",sorttable.innerSortFunction=function(){if(-1!=this.className.search(/\bsorttable_sorted\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),sortrevind=document.createElement("span"),sortrevind.id="sorttable_sortrevind",sortrevind.innerHTML=stIsIE?'&nbsp<font face="webdings">5</font>':"&nbsp;&#x25B4;",this.appendChild(sortrevind),void 0;if(-1!=this.className.search(/\bsorttable_sorted_reverse\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",this.appendChild(sortfwdind),void 0;theadrow=this.parentNode,forEach(theadrow.childNodes,function(e){1==e.nodeType&&(e.className=e.className.replace("sorttable_sorted_reverse",""),e.className=e.className.replace("sorttable_sorted",""))}),sortfwdind=document.getElementById("sorttable_sortfwdind"),sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind),sortrevind=document.getElementById("sorttable_sortrevind"),sortrevind&&sortrevind.parentNode.removeChild(sortrevind),this.className+=" sorttable_sorted",sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",this.appendChild(sortfwdind),row_array=[],col=this.sorttable_columnindex,rows=this.sorttable_tbody.rows;for(var e=0;e<rows.length;e++)row_array[row_array.length]=[sorttable.getInnerText(rows[e].cells[col]),rows[e]];row_array.sort(this.sorttable_sortfunction),tb=this.sorttable_tbody;for(var e=0;e<row_array.length;e++)tb.appendChild(row_array[e][1]);delete row_array}))}},guessType:function(e,t){sortfn=sorttable.sort_alpha;for(var n=0;n<e.tBodies[0].rows.length;n++)if(text=sorttable.getInnerText(e.tBodies[0].rows[n].cells[t]),""!=text){if(text.match(/^-?[£$¤]?[\d,.]+%?$/))return sorttable.sort_numeric;if(possdate=text.match(sorttable.DATE_RE)){if(first=parseInt(possdate[1]),second=parseInt(possdate[2]),first>12)return sorttable.sort_ddmm;if(second>12)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}return sortfn},getInnerText:function(e){if(!e)return"";if(hasInputs="function"==typeof e.getElementsByTagName&&e.getElementsByTagName("input").length,null!=e.getAttribute("sorttable_customkey"))return e.getAttribute("sorttable_customkey");if("undefined"!=typeof e.textContent&&!hasInputs)return e.textContent.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof e.innerText&&!hasInputs)return e.innerText.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof e.text&&!hasInputs)return e.text.replace(/^\s+|\s+$/g,"");switch(e.nodeType){case 3:if("input"==e.nodeName.toLowerCase())return e.value.replace(/^\s+|\s+$/g,"");case 4:return e.nodeValue.replace(/^\s+|\s+$/g,"");case 1:case 11:for(var t="",n=0;n<e.childNodes.length;n++)t+=sorttable.getInnerText(e.childNodes[n]);return t.replace(/^\s+|\s+$/g,"");default:return""}},reverse:function(e){newrows=[];for(var t=0;t<e.rows.length;t++)newrows[newrows.length]=e.rows[t];for(var t=newrows.length-1;t>=0;t--)e.appendChild(newrows[t]);delete newrows},sort_numeric:function(e,t){return aa=parseFloat(e[0].replace(/[^0-9.-]/g,"")),isNaN(aa)&&(aa=0),bb=parseFloat(t[0].replace(/[^0-9.-]/g,"")),isNaN(bb)&&(bb=0),aa-bb},sort_alpha:function(e,t){return e[0]==t[0]?0:e[0]<t[0]?-1:1},sort_ddmm:function(e,t){return mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt2>dt1?-1:1},sort_mmdd:function(e,t){return mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt2>dt1?-1:1},shaker_sort:function(e,t){for(var n=0,a=e.length-1,i=!0;i;){i=!1;for(var r=n;a>r;++r)if(t(e[r],e[r+1])>0){var s=e[r];e[r]=e[r+1],e[r+1]=s,i=!0}if(a--,!i)break;for(var r=a;r>n;--r)if(t(e[r],e[r-1])<0){var s=e[r];e[r]=e[r-1],e[r-1]=s,i=!0}n++}}},document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1),/WebKit/i.test(navigator.userAgent))var _timer=setInterval(function(){/loaded|complete/.test(document.readyState)&&sorttable.init()},10);window.onload=sorttable.init,dean_addEvent.guid=1,fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(e,t,n){for(var a=0;a<e.length;a++)t.call(n,e[a],a,e)}),Function.prototype.forEach=function(e,t,n){for(var a in e)"undefined"==typeof this.prototype[a]&&t.call(n,e[a],a,e)},String.forEach=function(e,t,n){Array.forEach(e.split(""),function(a,i){t.call(n,a,i,e)})};var forEach=function(e,t,n){if(e){var a=Object;if(e instanceof Function)a=Function;else{if(e.forEach instanceof Function)return e.forEach(t,n),void 0;"string"==typeof e?a=String:"number"==typeof e.length&&(a=Array)}a.forEach(e,t,n)}},TblId,SearchFlt,SlcArgs;TblId=new Array,SlcArgs=new Array;var colValues=new Array;(function(){}).call(this),function(){}.call(this);